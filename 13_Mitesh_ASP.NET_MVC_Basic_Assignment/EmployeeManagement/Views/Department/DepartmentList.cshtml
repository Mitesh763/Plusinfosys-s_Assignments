@model List<EmployeeManagement.Models.DepartmentModel>

@{
    ViewBag.Title = "Department";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


@{
    if (TempData["updateMsg"] == "success")
    {
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            <strong>Department Edited Successfully ! </strong>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    }
    if (TempData["addMsg"] == "success")
    {
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            <strong>Department Added Successfully ! </strong>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    }
    if (TempData["deleteMsg"] == "success")
    {
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            <strong> Department Deleted Successfully! </strong>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    }

    if (TempData["deleteMsg"] == "failed")
    {
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            <strong>Failed to Delete this Department Refered in Employee!</strong>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    }
}
<h2 class="text-center mb-5">Department List</h2>



<div style="display: flex; justify-content: flex-end; margin-bottom: 10px;">
    @Html.ActionLink("Add New Department", "DepartmentAddEdit", new { @area = "" }, new { @class = "btn btn-secondary mb-5" })
</div>
<table class="table table-striped table-bordered">
    <thead>
        <tr>
            <th scope="col" class="text-center">Sr No.</th>
            <th scope="col" class="text-center">Department Name</th>
            <th scope="col" class="text-center">Action</th>
        </tr>
    </thead>
    <tbody>
        @{ var srno = 1;}

        @foreach (var department in Model)
        {
            <tr>
                <td class="text-center">@srno</td>

                <td class="text-center">@department.DepartmentName</td>

                <td style="display: flex; justify-content: center; gap: 1rem;">
                    @Html.ActionLink("Edit", "DepartmentAddEdit", new { id = department.DepartmentId }, new { @class = "btn btn-warning" })
                    @Html.ActionLink("Delete", "DeleteDepartment", "Department",
                      new { id = department.DepartmentId },
                      new { @class = "btn btn-danger", onclick = $"return confirm('Confirm to delete \"{department.DepartmentName}\" department?');" })
                </td>
            </tr>
            srno += 1;
        }
    </tbody>
</table>

