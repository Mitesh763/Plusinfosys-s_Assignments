@model List<EmployeeManagement.Models.DepartmentModel>

@{
    ViewBag.Title = "Department";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


@{
    if (TempData["updateMsg"] == "success")
    {
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            <strong>Success! </strong> Department Edited!
        </div>
    }

    if (TempData["updateMsg"] == "failed")
    {
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            <strong>Failed! </strong> Department Already Exist!
        </div>
    }
    if (TempData["deleteMsg"] == "success")
    {
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            <strong>Success! </strong> Department Deleted!
        </div>
    }

    if (TempData["deleteMsg"] == "failed")
    {
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            <strong>Failed! </strong>This Department Refered in Employee!
        </div>
    }
}
<h2 class="text-center mb-5">Department List</h2>



<div style="display: flex; justify-content: flex-end; margin-bottom: 10px;">
    @Html.ActionLink("Add New Department", "DepartmentAddEdit", new { @area = "" }, new { @class = "btn btn-secondary mb-5" })
</div>
<table class="table table-striped table-bordered">
    <thead>
        <tr>
            <th scope="col">Sr No.</th>
            <th scope="col">Department Name</th>
            <th scope="col">Action</th>
        </tr>
    </thead>
    <tbody>
        @{  var srno = 1;}

        @foreach (var department in Model)
        {
            <tr>
                <td>@srno</td>

                <td>@department.DepartmentName</td>

                <td>
                    @Html.ActionLink("Edit", "DepartmentAddEdit", new { id = department.DepartmentId }, new { @class = "btn btn-warning" })
                    @Html.ActionLink("Delete", "DeleteDepartment", "Department",
                      new { id = department.DepartmentId },
                      new { @class = "btn btn-danger", onclick = "return confirm('Confirm to delete this department?');" })
                </td>
            </tr>
            srno += 1;
        }
    </tbody>
</table>

